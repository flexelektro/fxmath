var q=Object.defineProperty;var xt=Object.getOwnPropertyDescriptor;var yt=Object.getOwnPropertyNames;var dt=Object.prototype.hasOwnProperty;var pt=(i,t)=>{for(var r in t)q(i,r,{get:t[r],enumerable:!0})},Vt=(i,t,r,m)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of yt(t))!dt.call(i,s)&&s!==r&&q(i,s,{get:()=>t[s],enumerable:!(m=xt(t,s))||m.enumerable});return i};var Mt=i=>Vt(q({},"__esModule",{value:!0}),i);var zt={};pt(zt,{PI:()=>k,PI2:()=>C,RND:()=>p,V2:()=>x,V3:()=>M,atan:()=>F,atan2:()=>w,ceil:()=>N,clamp:()=>g,cos:()=>T,createPseudoPoissonDistribution:()=>st,dist:()=>J,exp:()=>E,floor:()=>Y,fract:()=>rt,isEven:()=>ht,lerp:()=>b,log:()=>H,make2dArray:()=>ct,make2dSquareArray:()=>lt,map:()=>O,mix:()=>G,modWrap:()=>it,pickRandom:()=>_,pickRandomFromArray:()=>tt,pow:()=>Z,quinticinterpol:()=>nt,random:()=>S,random2:()=>Q,randomWeightedFromArray:()=>et,resetRNDHASH:()=>B,rnd:()=>V,rndInt:()=>K,round:()=>j,sawTooth:()=>at,shuffleArray:()=>ot,sin:()=>L,smoothstep:()=>mt,sqrt:()=>X,swapVals:()=>ut,tan:()=>W,v2:()=>v,v3:()=>l,weightedRandomLn:()=>D});module.exports=Mt(zt);var{PI:k,log:H,sin:L,cos:T,tan:W,atan:F,atan2:w,random:S,floor:Y,ceil:N,sqrt:X,round:j,exp:E,pow:Z}=Math,C=k*2,O=(i,t,r,m,s)=>m+(i-t)/(r-t)*(s-m),b=(i,t,r)=>r*(t-i)+i,G=b,J=(i,t,r,m)=>Math.sqrt(Math.pow(i-r,2)+Math.pow(t-m,2)),V=(i,t,r=!1)=>{let m=r?Math.random():p();return i+(t-i)*m},K=(i,t)=>i+Math.floor(p()*(t-i+1)),Q=(i,t=12345)=>{let r=Math.sin(i*t)*1e4;return r-Math.floor(r)},U=i=>function(){var t=i+=1831565813;return t=Math.imul(t^t>>>15,t|1),t^=t+Math.imul(t^t>>>7,t|61),((t^t>>>14)>>>0)/4294967296},$=U(window.fxrand?fxrand()*1e4:Math.random()*1e4),B=i=>{$=U(i)},p=()=>$(),D=(i,t=!0)=>{let r=Math.exp(1),s=(Math.pow(r,2)-1)*i,e=Math.log(1+s)/2;return t?1-e:e};var _=(...i)=>{let t=i.length,r=Math.round(p()*(t-1));return i[r]},tt=(i,t=!1)=>{let r=i.length,m=window.fxrand?fxrand():Math.random(),s=Math.round(m*(r-1));return t?i.splice(s,1)[0]:i[s]},rt=i=>i-Math.floor(i),g=(i,t=0,r=1)=>Math.min(r,Math.max(i,t)),it=(i,t=0,r=1)=>(i+(r-t))%(r-t)+t,mt=(i,t,r)=>{let m=g((r-i)/(t-i),0,1);return m*m*(3-2*m)},nt=(i,t,r)=>{let m=g((r-i)/(t-i),0,1);return m*m*m*(m*(m*6-15)+10)},st=i=>{let{W:t,H:r,size:m,perc:s,hasShiftRow:e}=i,n=[],u=Math.ceil(t/m),h=Math.ceil(r/m);for(let a=0;a<h;a++){let c=[];for(let y=0;y<u;y++){let z=e&&a%2===0?m/2:0,A=fxrand?fxrand():Math.random(),R=fxrand?fxrand():Math.random(),d=A*2*Math.PI,o=D(R)*s/100*m,f=o*Math.cos(d),I=o*Math.sin(d);c.push(x.create(y*m+m/2+z+f,a*m+m/2+I))}n.push(c)}return n},et=i=>{let t=i.reduce((n,u)=>n+u.prob,0),r=0;i.forEach(n=>{n.start=r,n.end=r+n.prob,r=n.end});let s=(window.fxrand?fxrand():Math.random())*t;return i.find(n=>n.start<=s&&n.end>s).value},ut=(i,t)=>{let r=t;return t=i,i=r,[]},ht=i=>i%2===0;function at(i,t){var m=(i+1e3*t)%(2*t);return m>t?2*t-m:m}function lt(i){let t=[];for(let r=0;r<i;r++){let m=[];for(let s=0;s<i;s++)m.push(0);t.push(m)}return t}function ct(i,t){let r=[];for(let m=0;m<i;m++){let s=[];for(let e=0;e<t;e++)s.push(0);r.push(s)}return r}function ot(i){let t=i.length,r;for(;t!==0;)r=Math.floor(p()*t),t--,[i[t],i[r]]=[i[r],i[t]];return i}var P=(i,t,r)=>r*(t-i)+i,v=(i,t)=>new x(i,t),x=class i{constructor(t,r){this.x=t,this.y=r}static fromTo(t,r){return v(r.x-t.x,r.y-t.y)}static sameLike(t,r){return t.x===r.x&&t.y===r.y}static linesIntersect(t,r,m,s){let e=t.x,n=t.y,u=r.x,h=r.y,a=m.x,c=m.y,y=s.x,z=s.y,A=i.subtract(r,t),R=i.subtract(m,s);if(A.magnitude===0||R.magnitude===0)return!1;let d=(z-c)*(u-e)-(y-a)*(h-n);if(d===0)return!1;let o=((y-a)*(n-c)-(z-c)*(e-a))/d,f=((u-e)*(n-c)-(h-n)*(e-a))/d;if(o<0||o>1||f<0||f>1)return!1;let I=e+o*(u-e),bt=n+o*(h-n);return v(I,bt)}static isPointInPolygon(t,r){let m=r.length,s=!1;for(let e=0,n=m-1;e<m;n=e++)r[e].y>t.y!=r[n].y>t.y&&t.x<(r[n].x-r[e].x)*(t.y-r[e].y)/(r[n].y-r[e].y)+r[e].x&&(s=!s);return s}static create(t,r){return new i(t,r)}static createByMagnitudeAndAngle(t,r){return new i(t*Math.cos(r),t*Math.sin(r))}static getAngle(t){return Math.atan2(t.y,t.x)}static angleBetween(t,r){return Math.acos(i.dotprod(t,r)/(t.magnitude*r.magnitude))}static clone(t){return new i(t.x,t.y)}static magnitude(t){return t.magnitude}static length_(t){return t.magnitude}static squareMagnitude(t){return t.squareMagnitude}static distance(t,r){return i.subtract(t,r).magnitude}static add(t,r){return new i(t.x+r.x,t.y+r.y)}static subtract(t,r){return new i(t.x-r.x,t.y-r.y)}static multiply(t,r){return new i(t.x*r,t.y*r)}static multVec(t,r){return new i(t.x*r.x,t.y*r.y)}static divide(t,r){return i.multiply(t,1/r)}static dotprod(t,r){return t.x*r.x+t.y*r.y}static dot(t,r){return t.x*r.x+t.y*r.y}static crossprod(t,r){return t.x*r.y-t.y*r.x}static unitVec(t){return i.divide(t,t.magnitude)}static projectionFromTo(t,r){let m=i.unitVec(r);return i.multiply(m,i.dotprod(t,m))}static rotate(t,r){let m=Math.cos(r),s=-Math.sin(r),e=Math.sin(r),n=Math.cos(r),u=t.x*m+t.y*s,h=t.x*e+t.y*n;return new i(u,h)}static rotateAroundPivot(t,r,m){let s=Math.cos(m),e=Math.sin(m),n=t.x-r.x,u=t.y-r.y,h=s*n-e*u+r.x,a=e*n+s*u+r.y;return new i(h,a)}static normal(t){return new i(-t.y,t.x)}static normalLeft(t){return new i(-t.y,t.x)}static normalRight(t){return new i(t.y,-t.x)}static manhattanDistance(t,r){return Math.abs(t.x-r.x)+Math.abs(t.y-r.y)}static lerp(t,r,m){let s=P(t.x,r.x,m),e=P(t.y,r.y,m);return new i(s,e)}clone(){return new i(this.x,this.y)}sameLike(t){return this.x===t.x&&this.y===t.y}copy(){return new i(this.x,this.y)}get angle(){return Math.atan2(this.y,this.x)}set angle(t){let r=this.magnitude;this.x=r*Math.cos(t),this.y=r*Math.sin(t)}setAngle(t){let r=this.magnitude;return this.x=r*Math.cos(t),this.y=r*Math.sin(t),this}get degree(){return 360/(2*Math.PI)*Math.atan2(this.y,this.x)}get normalRight(){let t=-this.y,r=this.x;return this.x=t,this.y=r,this}get normalLeft(){let t=this.y,r=-this.x;return this.x=t,this.y=r,this}set degree(t){let r=Math.PI*2/360*t;this.setAngle(r)}setDegree(t){let r=Math.PI*2/360*t;return this.setAngle(r)}get magnitude(){return Math.sqrt(this.x*this.x+this.y*this.y)}get length(){return Math.sqrt(this.x*this.x+this.y*this.y)}get squareMagnitude(){return this.x*this.x+this.y*this.y}distance(t){return i.subtract(this,t).magnitude}unitVec(){return this.divide(this.magnitude)}add(t){return this.x+=t.x,this.y+=t.y,this}addRnd(t){return this.x+=V(-t,t),this.y+=V(-t,t),this}subtract(t){return this.x-=t.x,this.y-=t.y,this}multiply(t){return this.x*=t,this.y*=t,this}multVec(t){return this.x*=t.x,this.y*=t.y,this}divide(t){return this.multiply(1/t)}dotprod(t){return this.x*t.x+this.y*t.y}dot(t){return this.x*t.x+this.y*t.y}crossprod(t){return this.x*t.y-this.y*t.x}rotate(t){let r=Math.cos(t),m=Math.sin(t),s=this.x*r-this.y*m,e=this.x*m+this.y*r;return this.x=s,this.y=e,this}rotateAroundPivot(t,r){let m=Math.cos(r),s=Math.sin(r),e=this.x-t.x,n=this.y-t.y,u=m*e-s*n+t.x,h=s*e+m*n+t.y;return this.x=u,this.y=h,this}normal(){let t=-this.y,r=this.x;return this.x=t,this.y=r,this}lerp(t,r){let m=P(this.x,t.x,r),s=P(this.y,t.y,r);return this.x=m,this.y=s,this}floorValues(){return this.x=this.x|0,this.y=this.y|0,this}isInPolygon(t){return i.isPointInPolygon(this,t)}};var l=(i=0,t=0,r=0)=>new M(i,t,r),M=class i{constructor(t,r,m){this.x=t,this.y=r,this.z=m}static lerp(t,r,m){let s=b(t.x,r.x,m),e=b(t.y,r.y,m),n=b(t.z,r.z,m);return l(s,e,n)}static clone(t){return l(t.x,t.y,t.z)}static zero(){return l(0,0,0)}static up(){return l(0,1,0)}static add(t,r){let m=t.x+r.x,s=t.y+r.y,e=t.z+r.z;return l(m,s,e)}static sub(t,r){let m=t.x-r.x,s=t.y-r.y,e=t.z-r.z;return l(m,s,e)}static mult(t,r){let m=t.x*r,s=t.y*r,e=t.z*r;return l(m,s,e)}static multiply(t,r){return i.mult(t,r)}static divide(t,r){if(r===0)throw Error("Division by 0");let m=1/r;return i.mult(t,m)}static cross(t,r){let m=t.y*r.z-t.z*r.y,s=t.z*r.x-t.x*r.z,e=t.x*r.y-t.y*r.x;return new i(m,s,e)}static dot(t,r){return t.x*r.x+t.y*r.y+t.z*r.z}static abs(t){return l(Math.abs(t.x),Math.abs(t.y),Math.abs(t.z))}static max(t,r){let m=Math.max(t.x,r.x),s=Math.max(t.y,r.y),e=Math.max(t.z,r.z);return l(m,s,e)}zero(){return this.x=this.y=this.z=0,this}clone(){return l(this.x,this.y,this.z)}abs(){return this.x=Math.abs(this.x),this.y=Math.abs(this.y),this.z=Math.abs(this.z),this}add(t){return this.x=this.x+t.x,this.y=this.y+t.y,this.z=this.z+t.z,this}max(t){this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z)}sub(t){return this.x=this.x-t.x,this.y=this.y-t.y,this.z=this.z-t.z,this}mult(t){return this.x=this.x*t,this.y=this.y*t,this.z=this.z*t,this}multiply(t){return this.mult(t)}divide(t){let r=1/t;return this.x=this.x*r,this.y=this.y*r,this.z=this.z*r,this}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z}dotProd(t){return this.dot(t)}cross(t){let r=this.x,m=this.y,s=this.z,e=t.x,n=t.y,u=t.z,h=m*u-s*n,a=s*e-r*u,c=r*n-m*e;return new i(h,a,c)}crossProd(t){return this.cross(t)}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}magnitude(){return this.length()}normalize(){return this.divide(this.length()||1)}unitVector(){return this.normalize()}static transformCoordinates(t,r){let{x:m,y:s,z:e}=t,n=r.m,u=m*n[0]+s*n[4]+e*n[8]+n[12],h=m*n[1]+s*n[5]+e*n[9]+n[13],a=m*n[2]+s*n[6]+e*n[10]+n[14],c=m*n[3]+s*n[7]+e*n[11]+n[15];return l(u/c,h/c,a)}static multiplyWithMatrix(t,r){let{x:m,y:s,z:e}=t,n=r.m,u=m*n[0]+s*n[4]+e*n[8]+n[12],h=m*n[1]+s*n[5]+e*n[9]+n[13],a=m*n[2]+s*n[6]+e*n[10]+n[14],c=m*n[3]+s*n[7]+e*n[11]+n[15];return l(u,h,a)}floorValues(){return this.x=this.x|0,this.y=this.y|0,this.z=this.z|0,this}angleXY(){return w(this.x,this.y)}toArray(){return[this.x,this.y,this.z]}};0&&(module.exports={PI,PI2,RND,V2,V3,atan,atan2,ceil,clamp,cos,createPseudoPoissonDistribution,dist,exp,floor,fract,isEven,lerp,log,make2dArray,make2dSquareArray,map,mix,modWrap,pickRandom,pickRandomFromArray,pow,quinticinterpol,random,random2,randomWeightedFromArray,resetRNDHASH,rnd,rndInt,round,sawTooth,shuffleArray,sin,smoothstep,sqrt,swapVals,tan,v2,v3,weightedRandomLn});
//# sourceMappingURL=bundle.js.map
